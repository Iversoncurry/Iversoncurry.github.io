---
title: 拓扑排序
date: 2020-04-29 23:03:08
tags: 数据结构与算法
---

拓扑排序的实现方法之一就是找到图中入度为零的节点，然后删除该节点一节和该节点有联系的边,具体实现需要根据图的表示形式改变。
```js
function Node(val, node) {
	this.val = val
	this.next = node
}

let gra = [];
for (let i = 0; i < 6; i++) {
	gra.push(new Node(i, null))
}

gra[0].next = null
gra[1].next = new Node(2, null)
gra[2].next = new Node(3, new Node(4, new Node(5, null)))
gra[3].next = new Node(0, null)
gra[4].next = new Node(0, null)
gra[5].next = new Node(0, null)

function tuopu(gra) {
	// let sourceNode = new Set()
	let targetNode = []
	let index = 0
	let tuopu = []
	for (let item of gra) {
		let neighbors = item.next
		while(neighbors !==null) {
			targetNode.push(neighbors.val)
			neighbors = neighbors.next
		}
	}

	while(gra.length !==0) {
		// console.log(gra.length)
		for (let i = 0; i < gra.length; i++) {
			if (targetNode.indexOf(gra[i].val) < 0) {
				let neighbors_i = gra[i].next
				while(neighbors_i !== null) {
					try {
						targetNode.splice(targetNode.indexOf(neighbors_i.val), 1)
					} catch {
						console.log('neighbor has no inNode as same')
					}
					console.log(neighbors_i.val)

					neighbors_i = neighbors_i.next
									}
				tuopu.push(gra[i].val)
				gra.splice(i, 1)
				console.log(targetNode)
			}
			// console.log(gra[i].val)
		}

	}
	return tuopu
}

console.log(tuopu(gra))
```